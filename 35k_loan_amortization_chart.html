<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Amortization Chart 2026-2036</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: transparent;
            padding: 0;
            margin: 0;
            overflow: hidden;
            height: 100%;
            width: 100%;
        }
        .container {
            width: 100%;
            height: 100vh;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }
        h1 {
            text-align: center;
            color: #333;
            margin: 15px 0 10px 0;
            font-size: clamp(16px, 3vw, 22px);
        }
        #chartContainer {
            position: relative;
            width: 100%;
            height: calc(100vh - 60px);
            padding: 5px 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Loan Amortization Schedule</h1>
        <div id="chartContainer">
            <canvas id="amortizationChart"></canvas>
        </div>
    </div>

    <script>
        // Data from the amortization schedule
        // Balance line shows remaining loan balance after payments each year
        // Starting $35,000 in Oct 2026, ending $0 in Sept 2036
        const chartData = [
            {"year": 2026, "cumulative_principal": 625.87, "cumulative_interest": 567.98, "balance": 34374.13},
            {"year": 2027, "cumulative_principal": 3233.77, "cumulative_interest": 2735.48, "balance": 31766.23},
            {"year": 2028, "cumulative_principal": 6017.16, "cumulative_interest": 4727.49, "balance": 28982.84},
            {"year": 2029, "cumulative_principal": 8987.85, "cumulative_interest": 6532.20, "balance": 26012.15},
            {"year": 2030, "cumulative_principal": 12158.43, "cumulative_interest": 8137.02, "balance": 22841.57},
            {"year": 2031, "cumulative_principal": 15542.36, "cumulative_interest": 9528.49, "balance": 19457.63},
            {"year": 2032, "cumulative_principal": 19154.00, "cumulative_interest": 10692.25, "balance": 15846.00},
            {"year": 2033, "cumulative_principal": 23008.67, "cumulative_interest": 11612.98, "balance": 11991.33},
            {"year": 2034, "cumulative_principal": 27122.72, "cumulative_interest": 12274.33, "balance": 7877.28},
            {"year": 2035, "cumulative_principal": 31513.60, "cumulative_interest": 12658.85, "balance": 3486.40},
            {"year": 2036, "cumulative_principal": 35000.00, "cumulative_interest": 12754.40, "balance": 0.40}
        ];

        const ctx = document.getElementById('amortizationChart').getContext('2d');
        
        const chart = new Chart(ctx, {
            data: {
                labels: chartData.map(d => d.year),
                datasets: [
                    {
                        type: 'bar',
                        label: 'Principal Paid',
                        data: chartData.map(d => d.cumulative_principal),
                        backgroundColor: '#2d2d2d',
                        borderWidth: 0,
                        stack: 'payments',
                        order: 2
                    },
                    {
                        type: 'bar',
                        label: 'Interest Paid',
                        data: chartData.map(d => d.cumulative_interest),
                        backgroundColor: '#b8d4a8',
                        borderWidth: 0,
                        stack: 'payments',
                        order: 2
                    },
                    {
                        type: 'line',
                        label: 'Loan Balance',
                        data: chartData.map(d => d.balance),
                        borderColor: '#888888',
                        backgroundColor: 'transparent',
                        borderWidth: 3,
                        pointRadius: 5,
                        pointBackgroundColor: '#888888',
                        pointBorderColor: '#888888',
                        pointBorderWidth: 2,
                        tension: 0,
                        order: 1,
                        yAxisID: 'y'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            boxWidth: 15,
                            boxHeight: 15,
                            padding: 15,
                            font: {
                                size: window.innerWidth < 600 ? 12 : 14,
                                family: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
                            },
                            usePointStyle: false,
                            generateLabels: function(chart) {
                                const datasets = chart.data.datasets;
                                return datasets.map((dataset, i) => ({
                                    text: dataset.label,
                                    fillStyle: dataset.type === 'line' ? 'transparent' : dataset.backgroundColor,
                                    strokeStyle: dataset.type === 'line' ? dataset.borderColor : dataset.backgroundColor,
                                    lineWidth: dataset.type === 'line' ? 3 : 0,
                                    hidden: !chart.isDatasetVisible(i),
                                    index: i,
                                    pointStyle: dataset.type === 'line' ? 'line' : 'rect'
                                }));
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        padding: 12,
                        titleFont: {
                            size: 14
                        },
                        bodyFont: {
                            size: 13
                        },
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += '$' + context.parsed.y.toLocaleString('en-US', {
                                    minimumFractionDigits: 0,
                                    maximumFractionDigits: 0
                                });
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        grid: {
                            display: false,
                            drawBorder: true
                        },
                        ticks: {
                            font: {
                                size: window.innerWidth < 600 ? 10 : 12
                            },
                            color: '#666'
                        }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        max: 40000,
                        grid: {
                            color: '#e5e5e5',
                            drawBorder: true
                        },
                        ticks: {
                            stepSize: 10000,
                            callback: function(value) {
                                return '$' + (value / 1000) + 'k';
                            },
                            font: {
                                size: window.innerWidth < 600 ? 10 : 12
                            },
                            color: '#666'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
